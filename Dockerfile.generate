# #
# This Dockerfile is used to generate the frontend sdk client
# from the openapi spec generated by the backend
# #

FROM node:20-alpine AS generator-frontend
WORKDIR /utils
COPY ./openapi/ .

FROM generator-frontend AS generator-oapi-frontend
WORKDIR /utils/gen-client
ARG BACKEND_URL
ENV BACKEND_URL=${BACKEND_URL}
RUN sh ./gen-client.sh

FROM scratch AS oapi-frontend
COPY --from=generator-oapi-frontend /utils/gen-client/src .

